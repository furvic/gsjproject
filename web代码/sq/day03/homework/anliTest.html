<!DOCTYPE html>
<html>
<head lang="en">
<meta charset="UTF-8">
<title>论坛列表</title>
<style>
*{margin: 0; padding: 0; font-family: "Arial", "微软雅黑";}
ul,li{list-style: none;}
.bbs{margin: 0 auto; width: 600px; position: relative;}
header{padding: 5px 0; border-bottom: 1px solid #cecece;}
header span{display:inline-block; width: 220px; height: 50px; color: #fff; background: #009966; font-size: 18px; font-weight: bold; text-align: center;line-height: 50px; border-radius: 8px; cursor: pointer;}
.post{position: absolute; background: #ffffff; border: 1px #cccccc solid; width: 500px; left: 65px; top:70px; padding: 10px; font-size: 14px; z-index: 999999; display: none;}
.post .title{width: 450px; height:30px; line-height: 30px; display: block; border: 1px #cecece solid; margin-bottom: 10px;}
.post select{width: 200px; height: 30px;}
.post .content{width: 450px; height: 200px; display: block; margin: 10px 0;border: 1px #cecece solid;}
.post .btn{width: 160px; height: 35px; color: #fff; background: #009966; border: none; font-size: 14px; font-weight: bold; text-align: center; line-height: 35px; border-radius: 8px; cursor: pointer;}

.bbs section ul li{padding: 10px 0; border-bottom: 1px #999999 dashed;
overflow: hidden;}
.bbs section ul li div{float: left; width: 60px; margin-right: 10px;}
.bbs section ul li div img{ border-radius:50%; width: 60px;}
.bbs section ul li h1{float: left; width: 520px; font-size: 16px; line-height: 35px;}
.bbs section ul li p{color: #666666; line-height: 25px; font-size: 12px; }
.bbs section ul li p span{padding-right:20px;}
</style>
</head>
<body>
<div class="bbs">
<header><span onclick="post()">我要发帖</span></header>
<section>
  <!-- 每一个新发的帖子就是一个li -->
  <ul id="postList">
<!--    <li>
         <div>
             <img src="../img/1.jpg">
         </div>
         <h1>这是第一个帖子</h1>
         <p>
             <span>板块信息:电子板块</span>
             <span>发布时间:2021年2月24日 17:35:32</span>
         </p>
     </li> -->
  </ul>
</section>
<div class="post" id="post">
  <input class="title" placeholder="请输入标题（1-50个字符）" id="title">
  所属版块：<select id="sec"><option>请选择版块</option><option>电子书籍</option><option>新课来了</option><option>新手报到</option><option>职业规划</option></select>
  <textarea class="content" id="content"></textarea>
  <input class="btn" value="发布" onclick="postSuccess()">
</div>
</div>
</body>
<script>
 function post(){
     //获取post div
    var div= document.getElementById("post")
    //设置div的样式
    div.style.display="block"
 }
 /*        
     <li>
         <div>
             <img src="../img/1.jpg">
         </div>
         <h1>这是第一个帖子</h1>
         <p>
             <span>板块信息:电子板块</span>
             <span>发布时间:2021年2月24日 17:35:32</span>
         </p>
     </li>  

     */
 var arr =["1.jpg","2.jpg","3.jpg","4.jpg"]

 //发布
 function postSuccess(){
     //获取ul
     var ul =document.getElementById("postList")
     //创建li
     var li =document.createElement("li")
     //创建div
     var div =document.createElement("div")
     //创建img
     var img =document.createElement("img")
     //创建h1
     var h1 =document.createElement("h1")
     //设置h1文本值
     h1.innerHTML=document.getElementById("title").value

     //创建p
     var p =document.createElement("p")
     var span1 =document.createElement("span")
     //设置span1的内容
     span1.innerHTML="板块信息:"+document.getElementById("sec").value
     var span2 =document.createElement("span")

     //添加span1到p中
      p.appendChild(span1)
     //添加span2到p中
     p.appendChild(span2)
     var d= new Date()
     var time=d.getFullYear()+"年"+(d.getMonth()+1)+"月"+d.getDate()+"日"+"\t"+d.getHours()+":"+d.getMinutes()+":"+d.getSeconds()
     span2.innerHTML="发布时间:"+time


     //生成0-3之间的随机数
     var num= Math.floor(Math.random()*arr.length)
     //设置img的src属性值
     img.src="../img/"+arr[num]
     //将img加入div容器中
     div.appendChild(img)
     //将div加入li中
     li.appendChild(div)
     //将h1放入li中
     li.appendChild(h1)
     //将p放入li中
     li.appendChild(p)
     //将li加入ul中
     ul.appendChild(li)
     //清空标题
     document.getElementById("title").value=""
     //隐藏
     document.getElementById("post").style.display="none"
 }
</script>
</html>